<div class="example-listbox-controls">
  <mat-checkbox [formControl]="wrap">Wrap</mat-checkbox>
  <mat-checkbox [formControl]="multi">Multi</mat-checkbox>
  <mat-checkbox [formControl]="disabled">Disabled</mat-checkbox>
  <mat-checkbox [formControl]="skipDisabled">Skip Disabled</mat-checkbox>

  <mat-form-field subscriptSizing="dynamic" appearance="outline">
    <mat-label>Orientation</mat-label>
    <mat-select [(value)]="orientation">
      <mat-option value="vertical">Vertical</mat-option>
      <mat-option value="horizontal">Horizontal</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field subscriptSizing="dynamic" appearance="outline">
    <mat-label>Selection strategy</mat-label>
    <mat-select [(value)]="selectionMode">
      <mat-option value="explicit">Explicit</mat-option>
      <mat-option value="follow">Follow Focus</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field subscriptSizing="dynamic" appearance="outline">
    <mat-label>Focus strategy</mat-label>
    <mat-select [(value)]="focusMode">
      <mat-option value="roving tabindex">Roving Tabindex</mat-option>
      <mat-option value="activedescendant">Active Descendant</mat-option>
    </mat-select>
  </mat-form-field>
</div>

<!-- #docregion listbox -->
<ul
  cdkListbox
  [wrap]="wrap.value"
  [disabled]="disabled.value"
  [multiselectable]="multi.value"
  [skipDisabled]="skipDisabled.value"
  [orientation]="orientation"
  [focusMode]="focusMode"
  [selectionMode]="selectionMode"
  class="example-listbox"
>
  <label class="example-label" id="fruit-example-label">List of Fruits</label>

  @for (fruit of fruits; track fruit) {
    @let checked = option.pattern.selected() ? 'checked' : 'unchecked';

    <li class="example-option" cdkOption #option="cdkOption">
      <mat-pseudo-checkbox [state]="checked"></mat-pseudo-checkbox>
      <span>{{ fruit }}</span>
    </li>
  }
</ul>
<!-- #enddocregion listbox -->
