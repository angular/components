<div class="example-grid-container">
  <div class="example-grid-calendar-debug">Selected Date: {{displayActiveDate()}}</div>
  <div class="example-grid-calendar-control">
    <button class="example-grid-calendar-control-button" (click)="prevMonth()">
      <span aria-hidden="true" class="material-symbols-outlined">chevron_left</span>
    </button>
    <div>{{monthYearLabel()}}</div>
    <button class="example-grid-calendar-control-button" (click)="nextMonth()">
      <span aria-hidden="true" class="material-symbols-outlined">chevron_right</span>
    </button>
  </div>

  <table
    ngGrid
    class="example-grid-calendar"
    colWrap="continuous"
    rowWrap="nowrap"
    [enableSelection]="true"
    [softDisabled]="false"
    selectionMode="explicit"
  >
    <thead>
      <tr>
        @for (day of weekdays(); track day.long) {
          <th scope="col" class="example-calendar-cell">
            <span class="cdk-visually-hidden">{{day.long}}</span>
            <span aria-hidden="true">{{day.narrow}}</span>
          </th>
        }
      </tr>
    </thead>

    @for (week of weeks(); track week) {
      <tr ngGridRow>
        @if ($first) {
          @for (day of daysFromPrevMonth(); track day) {
            <td class="example-calendar-cell" ngGridCell disabled>{{day}}</td>
          }
        }

        @for (day of week; track day) {
          <td class="example-calendar-cell" ngGridCell [(selected)]="day.selected">
            <button
              ngGridCellWidget
              class="example-calendar-day-button"
              [attr.aria-label]="day.ariaLabel"
            >
              {{day.displayName}}
            </button>
          </td>
        }

        @if ($last && week.length < 7) {
          @for (day of [].constructor(7 - week.length); track $index) {
            <td class="example-calendar-cell" ngGridCell disabled>{{$index + 1}}</td>
          }
        }
      </tr>
    }
  </table>
</div>
