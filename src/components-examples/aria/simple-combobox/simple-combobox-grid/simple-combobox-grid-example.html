<div class="example-combobox-container">
  <div #origin class="example-combobox-input-container">
    <span class="material-symbols-outlined example-icon example-search-icon">search</span>
    <input ngCombobox #combobox="ngCombobox" class="example-combobox-input" placeholder="Search..."
      [(value)]="searchString" [(expanded)]="popupExpanded" />
  </div>

  <ng-template [cdkConnectedOverlay]="{origin, usePopover: 'inline', matchWidth: true}" [cdkConnectedOverlayOpen]="true"
    [cdkConnectedOverlayDisableClose]="true">
    <ng-template ngComboboxPopup [combobox]="combobox">
      <div ngComboboxWidget ngGrid focusMode="activedescendant" [tabIndex]="-1" class="example-popup"
        colWrap="continuous" #grid="ngGrid">
        @for (item of filteredItems(); track item.label; let i = $index) {
        <div ngGridRow class="example-grid-row">
          <div ngGridCell [id]="item.label + '-label'" [rowIndex]="i" [colIndex]="0"
            class="example-cell-label example-cell">
            {{item.label}}
          </div>
          <div ngGridCell [id]="item.label + '-delete'" [rowIndex]="i" [colIndex]="1"
            class="example-cell-button example-cell ">
            <button ngGridCellWidget class="example-button" (click)="removeItem(item)"
              (pointerdown)="$event.preventDefault()">
              <mat-icon>close</mat-icon>
            </button>
          </div>
        </div>
        }
      </div>
    </ng-template>
  </ng-template>
</div>