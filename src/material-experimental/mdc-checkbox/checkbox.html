<div class="mdc-form-field"
     [class.mdc-form-field--align-end]="labelPosition == 'before'">
  <div #checkbox class="mdc-checkbox">
    <input #nativeCheckbox
           type="checkbox"
           [ngClass]="_classes"
           [attr.aria-checked]="_getAriaChecked()"
           [attr.aria-label]="ariaLabel || null"
           [attr.aria-labelledby]="ariaLabelledby"
           [attr.aria-describedby]="ariaDescribedby"
           [attr.name]="name"
           [attr.value]="value"
           [checked]="checked"
           [disabled]="disabled"
           [id]="inputId"
           [required]="required"
           [tabIndex]="tabIndex"
           (blur)="_onBlur()"
           (click)="_onClick()"
           (change)="$event.stopPropagation()"/>
    <div class="mdc-checkbox__ripple"></div>
    <div class="mdc-checkbox__background">
      <svg class="mdc-checkbox__checkmark"
           focusable="false"
           viewBox="0 0 24 24">
        <path class="mdc-checkbox__checkmark-path"
              fill="none"
              d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
      </svg>
      <div class="mdc-checkbox__mixedmark"></div>
    </div>
    <!--
      Note that we use the input as the ripple target, because some screen readers have a
      behavior where any parent of an input that has a `mousedown` or `click` listener is
      considered as being "clickable", causing the screen reader to read out "clickable" before
      the label. MDC stretches the input to the size of the container so we can bind to it
      directly for the same result. See https://github.com/nvaccess/nvda/issues/7430
     -->
    <div class="mat-mdc-checkbox-ripple mat-mdc-focus-indicator" mat-ripple
      [matRippleTrigger]="nativeCheckbox"
      [matRippleDisabled]="disableRipple || disabled"
      [matRippleCentered]="true"
      [matRippleAnimation]="_rippleAnimation"></div>
  </div>
  <label #label
         [for]="inputId"
         (click)="$event.stopPropagation()">
    <ng-content></ng-content>
  </label>
</div>
